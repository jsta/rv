# OS: Linux + macOS ------------------------------------------------------------
# tic documentation: https://docs.ropensci.org/tic/dev/

matrix:
  include:
    - os: linux
      r: release
      env:
      - BUILD_PKGDOWN=true

# meta -------------------------------------------------------------------------
language: r
cache:
  - packages
  - $HOME/.ccache
latex: false

# environment variables --------------------------------------------------------

env:
  global:
    - MAKEFLAGS="-j 2"

# Stages -----------------------------------------------------------------------

before_cache: Rscript -e 'remotes::install_cran("pkgdown")'
deploy:
  provider: script
  script: Rscript -e 'pkgdown::deploy_site_github()'
  cleanup: true

# Custom user code -------------------------------------------------------------
